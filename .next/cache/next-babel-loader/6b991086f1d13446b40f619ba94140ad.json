{"ast":null,"code":"var _jsxFileName = \"/Users/romeoenso/Desktop/refluens/refluens-hotel-reservation/hotel-app/pages/login.js\";\nimport _JSXStyle from \"styled-jsx/style\";\nimport React from \"react\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { useState } from 'react';\nimport axios from 'axios';\nimport Router from 'next/router';\nimport cookies from 'next-cookies';\nimport { login, auth } from '../utils/auth';\n\nconst Login = ({\n  apiUrl\n}) => {\n  [state, setState] = useState({\n    username: '',\n    password: '',\n    error: ''\n  });\n\n  const handleChange = e => {\n    setState(_objectSpread({}, state, {\n      [e.target.name]: e.target.value\n    }));\n  };\n\n  const handleSubmit = async event => {\n    event.preventDefault();\n    const username = state.username;\n    const url = apiUrl;\n\n    try {\n      const response = await axios.post(url, {\n        email: username,\n        password: state.password\n      });\n\n      if (response.data) {\n        login({\n          token: response.data.token\n        });\n      }\n    } catch (error) {\n      console.log('Error', error);\n    }\n  };\n\n  return __jsx(\"div\", {\n    className: \"jsx-458047844\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42\n    },\n    __self: this\n  }, __jsx(\"div\", {\n    className: \"jsx-458047844\" + \" \" + 'login',\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43\n    },\n    __self: this\n  }, __jsx(\"form\", {\n    onSubmit: handleSubmit,\n    className: \"jsx-458047844\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44\n    },\n    __self: this\n  }, __jsx(\"label\", {\n    htmlFor: \"username\",\n    className: \"jsx-458047844\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45\n    },\n    __self: this\n  }, \"Login\"), __jsx(\"input\", {\n    type: \"text\",\n    id: \"username\",\n    name: \"username\",\n    value: state.username,\n    onChange: handleChange,\n    className: \"jsx-458047844\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47\n    },\n    __self: this\n  }), __jsx(\"input\", {\n    type: \"password\",\n    id: \"password\",\n    name: \"password\",\n    value: state.password,\n    onChange: handleChange,\n    className: \"jsx-458047844\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55\n    },\n    __self: this\n  }), __jsx(\"button\", {\n    type: \"submit\",\n    className: \"jsx-458047844\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63\n    },\n    __self: this\n  }, \"Login\"), __jsx(\"p\", {\n    className: \"jsx-458047844\" + \" \" + `error ${state.error && 'show'}`,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65\n    },\n    __self: this\n  }, state.error && `Error: ${state.error}`))), __jsx(_JSXStyle, {\n    id: \"458047844\",\n    __self: this\n  }, \".login.jsx-458047844{max-width:340px;margin:0 auto;padding:1rem;border:1px solid #ccc;border-radius:4px;}form.jsx-458047844{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-flow:column;-ms-flex-flow:column;flex-flow:column;}label.jsx-458047844{font-weight:600;}input.jsx-458047844{padding:8px;margin:0.3rem 0 1rem;border:1px solid #ccc;border-radius:4px;}.error.jsx-458047844{margin:0.5rem 0 0;display:none;color:brown;}.error.show.jsx-458047844{display:block;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9yb21lb2Vuc28vRGVza3RvcC9yZWZsdWVucy9yZWZsdWVucy1ob3RlbC1yZXNlcnZhdGlvbi9ob3RlbC1hcHAvcGFnZXMvbG9naW4uanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBcUVrQixBQUcyQixBQU9ILEFBSUcsQUFHSixBQU1NLEFBS0osWUFWTyxFQVd2QixFQXpCZ0IsQUFXaEIsRUFTZSxZQW5CQSxDQW9CRCxFQU5VLFVBYkEsQUFvQnhCLFlBTm9CLFVBYkEsUUFjcEIsQ0FWbUIsU0FIbkIsc0RBSUEiLCJmaWxlIjoiL1VzZXJzL3JvbWVvZW5zby9EZXNrdG9wL3JlZmx1ZW5zL3JlZmx1ZW5zLWhvdGVsLXJlc2VydmF0aW9uL2hvdGVsLWFwcC9wYWdlcy9sb2dpbi5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJztcbmltcG9ydCBSb3V0ZXIgZnJvbSAnbmV4dC9yb3V0ZXInXG5pbXBvcnQgY29va2llcyBmcm9tICduZXh0LWNvb2tpZXMnO1xuaW1wb3J0IHsgbG9naW4sIGF1dGggfSBmcm9tICcuLi91dGlscy9hdXRoJztcblxuY29uc3QgTG9naW4gPSAoeyBhcGlVcmwgfSkgPT4ge1xuICBbc3RhdGUsIHNldFN0YXRlXSA9IHVzZVN0YXRlKHtcbiAgICB1c2VybmFtZTogJycsXG4gICAgcGFzc3dvcmQ6ICcnLFxuICAgIGVycm9yOiAnJ1xuICB9KTtcblxuICBjb25zdCBoYW5kbGVDaGFuZ2UgPSAoZSkgPT4ge1xuICAgIHNldFN0YXRlKHtcbiAgICAgIC4uLnN0YXRlLFxuICAgICAgW2UudGFyZ2V0Lm5hbWVdOiBlLnRhcmdldC52YWx1ZVxuICAgIH0pO1xuICB9XG5cbiAgY29uc3QgaGFuZGxlU3VibWl0ID0gYXN5bmMgKGV2ZW50KSA9PiB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKVxuICAgIGNvbnN0IHVzZXJuYW1lID0gc3RhdGUudXNlcm5hbWU7XG4gICAgY29uc3QgdXJsID0gYXBpVXJsXG5cbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBheGlvcy5wb3N0KHVybCwge1xuICAgICAgICBlbWFpbDogdXNlcm5hbWUsXG4gICAgICAgIHBhc3N3b3JkOiBzdGF0ZS5wYXNzd29yZFxuICAgICAgfSk7XG5cbiAgICAgIGlmIChyZXNwb25zZS5kYXRhKSB7XG4gICAgICAgIGxvZ2luKHsgdG9rZW46IHJlc3BvbnNlLmRhdGEudG9rZW4gfSlcbiAgICAgIH1cblxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmxvZygnRXJyb3InLCBlcnJvcik7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2PlxuICAgICAgPGRpdiBjbGFzc05hbWU9J2xvZ2luJz5cbiAgICAgICAgPGZvcm0gb25TdWJtaXQ9e2hhbmRsZVN1Ym1pdH0+XG4gICAgICAgICAgPGxhYmVsIGh0bWxGb3I9J3VzZXJuYW1lJz5Mb2dpbjwvbGFiZWw+XG5cbiAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgIHR5cGU9J3RleHQnXG4gICAgICAgICAgICBpZD0ndXNlcm5hbWUnXG4gICAgICAgICAgICBuYW1lPSd1c2VybmFtZSdcbiAgICAgICAgICAgIHZhbHVlPXtzdGF0ZS51c2VybmFtZX1cbiAgICAgICAgICAgIG9uQ2hhbmdlPXtoYW5kbGVDaGFuZ2V9XG4gICAgICAgICAgLz5cblxuICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgdHlwZT0ncGFzc3dvcmQnXG4gICAgICAgICAgICBpZD0ncGFzc3dvcmQnXG4gICAgICAgICAgICBuYW1lPSdwYXNzd29yZCdcbiAgICAgICAgICAgIHZhbHVlPXtzdGF0ZS5wYXNzd29yZH1cbiAgICAgICAgICAgIG9uQ2hhbmdlPXtoYW5kbGVDaGFuZ2V9XG4gICAgICAgICAgLz5cblxuICAgICAgICAgIDxidXR0b24gdHlwZT0nc3VibWl0Jz5Mb2dpbjwvYnV0dG9uPlxuXG4gICAgICAgICAgPHAgY2xhc3NOYW1lPXtgZXJyb3IgJHtzdGF0ZS5lcnJvciAmJiAnc2hvdyd9YH0+XG4gICAgICAgICAgICB7c3RhdGUuZXJyb3IgJiYgYEVycm9yOiAke3N0YXRlLmVycm9yfWB9XG4gICAgICAgICAgPC9wPlxuICAgICAgICA8L2Zvcm0+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxzdHlsZSBqc3g+e2BcbiAgICAgICAgLmxvZ2luIHtcbiAgICAgICAgICBtYXgtd2lkdGg6IDM0MHB4O1xuICAgICAgICAgIG1hcmdpbjogMCBhdXRvO1xuICAgICAgICAgIHBhZGRpbmc6IDFyZW07XG4gICAgICAgICAgYm9yZGVyOiAxcHggc29saWQgI2NjYztcbiAgICAgICAgICBib3JkZXItcmFkaXVzOiA0cHg7XG4gICAgICAgIH1cbiAgICAgICAgZm9ybSB7XG4gICAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgICBmbGV4LWZsb3c6IGNvbHVtbjtcbiAgICAgICAgfVxuICAgICAgICBsYWJlbCB7XG4gICAgICAgICAgZm9udC13ZWlnaHQ6IDYwMDtcbiAgICAgICAgfVxuICAgICAgICBpbnB1dCB7XG4gICAgICAgICAgcGFkZGluZzogOHB4O1xuICAgICAgICAgIG1hcmdpbjogMC4zcmVtIDAgMXJlbTtcbiAgICAgICAgICBib3JkZXI6IDFweCBzb2xpZCAjY2NjO1xuICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDRweDtcbiAgICAgICAgfVxuICAgICAgICAuZXJyb3Ige1xuICAgICAgICAgIG1hcmdpbjogMC41cmVtIDAgMDtcbiAgICAgICAgICBkaXNwbGF5OiBub25lO1xuICAgICAgICAgIGNvbG9yOiBicm93bjtcbiAgICAgICAgfVxuICAgICAgICAuZXJyb3Iuc2hvdyB7XG4gICAgICAgICAgZGlzcGxheTogYmxvY2s7XG4gICAgICAgIH1cbiAgICAgIGB9PC9zdHlsZT5cbiAgICA8L2Rpdj5cbiAgKVxufVxuXG5Mb2dpbi5nZXRJbml0aWFsUHJvcHMgPSBjdHggPT4ge1xuICBjb25zdCBhcGlVcmwgPSAnaHR0cDovL2xvY2FsaG9zdDo0MDAwL2F1dGhlbnRpY2F0ZSc7XG4gIGNvbnN0IHsgdG9rZW4gfSA9IGNvb2tpZXMoY3R4KTtcbiAgcmV0dXJuIHsgYXBpVXJsLCB0b2tlbiB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IExvZ2luOyJdfQ== */\\n/*@ sourceURL=/Users/romeoenso/Desktop/refluens/refluens-hotel-reservation/hotel-app/pages/login.js */\"));\n};\n\nLogin.getInitialProps = ctx => {\n  const apiUrl = 'http://localhost:4000/authenticate';\n  const {\n    token\n  } = cookies(ctx);\n  return {\n    apiUrl,\n    token\n  };\n};\n\nexport default Login;","map":{"version":3,"sources":["/Users/romeoenso/Desktop/refluens/refluens-hotel-reservation/hotel-app/pages/login.js"],"names":["useState","axios","Router","cookies","login","auth","Login","apiUrl","state","setState","username","password","error","handleChange","e","target","name","value","handleSubmit","event","preventDefault","url","response","post","email","data","token","console","log","getInitialProps","ctx"],"mappings":"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","sourcesContent":["import { useState } from 'react';\nimport axios from 'axios';\nimport Router from 'next/router'\nimport cookies from 'next-cookies';\nimport { login, auth } from '../utils/auth';\n\nconst Login = ({ apiUrl }) => {\n  [state, setState] = useState({\n    username: '',\n    password: '',\n    error: ''\n  });\n\n  const handleChange = (e) => {\n    setState({\n      ...state,\n      [e.target.name]: e.target.value\n    });\n  }\n\n  const handleSubmit = async (event) => {\n    event.preventDefault()\n    const username = state.username;\n    const url = apiUrl\n\n    try {\n      const response = await axios.post(url, {\n        email: username,\n        password: state.password\n      });\n\n      if (response.data) {\n        login({ token: response.data.token })\n      }\n\n    } catch (error) {\n      console.log('Error', error);\n    }\n  }\n\n  return (\n    <div>\n      <div className='login'>\n        <form onSubmit={handleSubmit}>\n          <label htmlFor='username'>Login</label>\n\n          <input\n            type='text'\n            id='username'\n            name='username'\n            value={state.username}\n            onChange={handleChange}\n          />\n\n          <input\n            type='password'\n            id='password'\n            name='password'\n            value={state.password}\n            onChange={handleChange}\n          />\n\n          <button type='submit'>Login</button>\n\n          <p className={`error ${state.error && 'show'}`}>\n            {state.error && `Error: ${state.error}`}\n          </p>\n        </form>\n      </div>\n      <style jsx>{`\n        .login {\n          max-width: 340px;\n          margin: 0 auto;\n          padding: 1rem;\n          border: 1px solid #ccc;\n          border-radius: 4px;\n        }\n        form {\n          display: flex;\n          flex-flow: column;\n        }\n        label {\n          font-weight: 600;\n        }\n        input {\n          padding: 8px;\n          margin: 0.3rem 0 1rem;\n          border: 1px solid #ccc;\n          border-radius: 4px;\n        }\n        .error {\n          margin: 0.5rem 0 0;\n          display: none;\n          color: brown;\n        }\n        .error.show {\n          display: block;\n        }\n      `}</style>\n    </div>\n  )\n}\n\nLogin.getInitialProps = ctx => {\n  const apiUrl = 'http://localhost:4000/authenticate';\n  const { token } = cookies(ctx);\n  return { apiUrl, token }\n}\n\nexport default Login;"]},"metadata":{},"sourceType":"module"}